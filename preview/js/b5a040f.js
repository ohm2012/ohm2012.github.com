window.log=function f(){log.history=log.history||[];log.history.push(arguments);if(this.console){var e=arguments;try{e.callee=f.caller}catch(g){}e=[].slice.call(e);typeof console.log==="object"?log.apply.call(console.log,console,e):console.log.apply(console,e)}};
(function(a){function e(){}var g,m;for(g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");m=g.pop();)a[m]=a[m]||e})(function(){try{return console.log(),window.console}catch(a){return window.console={}}}());
(function(a){function e(b){var a=["Moz","Webkit","O","ms"],c=b.charAt(0).toUpperCase()+b.substr(1);if(b in p.style)return b;for(b=0;b<a.length;++b){var d=a[b]+c;if(d in p.style)return d}}function g(b){"string"===typeof b&&this.parse(b);return this}function m(b,a,c){!0===a?b.queue(c):a?b.queue(a,c):c()}function o(b){var i=[];a.each(b,function(b){b=a.camelCase(b);b=a.transit.propertyMap[b]||b;b=n(b);-1===a.inArray(b,i)&&i.push(b)});return i}function q(b,i,c,d){b=o(b);a.cssEase[c]&&(c=a.cssEase[c]);
var s=""+r(i)+" "+c;0<parseInt(d,10)&&(s+=" "+r(d));var h=[];a.each(b,function(b,a){h.push(a+" "+s)});return h.join(", ")}function l(b,i){i||(a.cssNumber[b]=!0);a.transit.propertyMap[b]=j.transform;a.cssHooks[b]={get:function(i){return(a(i).css("transform")||new g).get(b)},set:function(i,d){var h=a(i).css("transform")||new g;h.setFromString(b,d);a(i).css({transform:h})}}}function n(b){return b.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function k(b,a){return"string"===typeof b&&!b.match(/^[\-0-9\.]+$/)?
b:""+b+a}function r(b){a.fx.speeds[b]&&(b=a.fx.speeds[b]);return k(b,"ms")}a.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var p=document.createElement("div"),j={},h=-1<navigator.userAgent.toLowerCase().indexOf("chrome");j.transition=e("transition");j.transitionDelay=e("transitionDelay");j.transform=e("transform");
j.transformOrigin=e("transformOrigin");p.style[j.transform]="";p.style[j.transform]="rotateY(90deg)";j.transform3d=""!==p.style[j.transform];a.extend(a.support,j);var d=j.transitionEnd={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[j.transition]||null,p=null;a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};a.cssHooks.transform={get:function(b){return a(b).data("transform")},
set:function(b,i){var c=i;c instanceof g||(c=new g(c));b.style[j.transform]="WebkitTransform"===j.transform&&!h?c.toString(!0):c.toString();a(b).data("transform",c)}};a.cssHooks.transformOrigin={get:function(b){return b.style[j.transformOrigin]},set:function(b,a){b.style[j.transformOrigin]=a}};l("scale");l("translate");l("rotate");l("rotateX");l("rotateY");l("rotate3d");l("perspective");l("skewX");l("skewY");l("x",!0);l("y",!0);g.prototype={setFromString:function(b,a){var c="string"===typeof a?a.split(","):
a.constructor===Array?a:[a];c.unshift(b);g.prototype.set.apply(this,c)},set:function(b){var a=Array.prototype.slice.apply(arguments,[1]);this.setter[b]?this.setter[b].apply(this,a):this[b]=a.join(",")},get:function(b){return this.getter[b]?this.getter[b].apply(this):this[b]||0},setter:{rotate:function(b){this.rotate=k(b,"deg")},rotateX:function(b){this.rotateX=k(b,"deg")},rotateY:function(b){this.rotateY=k(b,"deg")},scale:function(b,a){void 0===a&&(a=b);this.scale=b+","+a},skewX:function(b){this.skewX=
k(b,"deg")},skewY:function(b){this.skewY=k(b,"deg")},perspective:function(b){this.perspective=k(b,"px")},x:function(b){this.set("translate",b,null)},y:function(b){this.set("translate",null,b)},translate:function(b,a){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==b&&(this._translateX=k(b,"px"));null!==a&&(this._translateY=k(a,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||
0},scale:function(){var b=(this.scale||"1,1").split(",");b[0]&&(b[0]=parseFloat(b[0]));b[1]&&(b[1]=parseFloat(b[1]));return b[0]===b[1]?b[0]:b},rotate3d:function(){for(var b=(this.rotate3d||"0,0,0,0deg").split(","),a=0;3>=a;++a)b[a]&&(b[a]=parseFloat(b[a]));b[3]&&(b[3]=k(b[3],"deg"));return b}},parse:function(b){var a=this;b.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(b,d,h){a.setFromString(d,h)})},toString:function(b){var a=[],c;for(c in this)if(this.hasOwnProperty(c)&&(j.transform3d||!("rotateX"===
c||"rotateY"===c||"perspective"===c||"transformOrigin"===c)))"_"!==c[0]&&(b&&"scale"===c?a.push(c+"3d("+this[c]+",1)"):b&&"translate"===c?a.push(c+"3d("+this[c]+",0)"):a.push(c+"("+this[c]+")"));return a.join(" ")}};a.fn.transition=a.fn.transit=function(b,i,c,h){var g=this,e=0,o=!0;"function"===typeof i&&(h=i,i=void 0);"function"===typeof c&&(h=c,c=void 0);"undefined"!==typeof b.easing&&(c=b.easing,delete b.easing);"undefined"!==typeof b.duration&&(i=b.duration,delete b.duration);"undefined"!==typeof b.complete&&
(h=b.complete,delete b.complete);"undefined"!==typeof b.queue&&(o=b.queue,delete b.queue);"undefined"!==typeof b.delay&&(e=b.delay,delete b.delay);"undefined"===typeof i&&(i=a.fx.speeds._default);"undefined"===typeof c&&(c=a.cssEase._default);var i=r(i),l=q(b,i,c,e),k=a.transit.enabled&&j.transition?parseInt(i,10)+parseInt(e,10):0;if(0===k)return m(g,o,function(a){g.css(b);h&&h();a()}),g;var n={},p=function(c){var i=!1,e=function(){i&&g.unbind(d,e);0<k&&g.each(function(){this.style[j.transition]=
n[this]||null});"function"===typeof h&&h.apply(g);"function"===typeof c&&c()};0<k&&d&&a.transit.useTransitionEnd?(i=!0,g.bind(d,e)):window.setTimeout(e,k);g.each(function(){0<k&&(this.style[j.transition]=l);a(this).css(b)})};m(g,o,function(b){var a=0;"MozTransition"===j.transition&&25>a&&(a=25);window.setTimeout(function(){p(b)},a)});return this};a.transit.getTransitionValue=q})(jQuery);
(function(a,e,g,m){var o=a(m),q=function(a,d){a.element.trigger("waypoint.reached",d);if(a.options.triggerOnce)a.element[e]("destroy")},l=function(a,d){if(!d)return-1;for(var b=d.waypoints.length-1;b>=0&&d.waypoints[b].element[0]!==a[0];)b-=1;return b},n=[],k=function(h){a.extend(this,{element:a(h),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:a.proxy(function(){var d=this.element.scrollTop(),b=d>this.oldScroll,i=this,c=a.grep(this.waypoints,function(a){return b?a.offset>i.oldScroll&&
a.offset<=d:a.offset<=i.oldScroll&&a.offset>d}),h=c.length;if(!this.oldScroll||!d)a[g]("refresh");this.oldScroll=d;h&&(b||c.reverse(),a.each(c,function(a,c){if(c.options.continuous||a===h-1)q(c,[b?"down":"up"])}))},this)});a(h).bind("scroll.waypoints",a.proxy(function(){if(!this.didScroll)this.didScroll=!0,m.setTimeout(a.proxy(function(){this.doScroll();this.didScroll=!1},this),a[g].settings.scrollThrottle)},this)).bind("resize.waypoints",a.proxy(function(){if(!this.didResize)this.didResize=!0,m.setTimeout(a.proxy(function(){a[g]("refresh");
this.didResize=!1},this),a[g].settings.resizeThrottle)},this));o.load(a.proxy(function(){this.doScroll()},this))},r=function(h){var d=null;a.each(n,function(b,a){if(a.element[0]===h)return d=a,!1});return d},p={init:function(h,d){this.each(function(){var b=a.fn[e].defaults.context,i,c=a(this);if(d&&d.context)b=d.context;a.isWindow(b)||(b=c.closest(b)[0]);i=r(b);i||(i=new k(b),n.push(i));var o=l(c,i),j=a.extend({},o<0?a.fn[e].defaults:i.waypoints[o].options,d);j.offset=j.offset==="bottom-in-view"?
function(){return(a.isWindow(b)?a[g]("viewportHeight"):a(b).height())-a(this).outerHeight()}:j.offset;o<0?i.waypoints.push({element:c,offset:null,options:j}):i.waypoints[o].options=j;h&&c.bind("waypoint.reached",h);d&&d.handler&&c.bind("waypoint.reached",d.handler)});a[g]("refresh");return this},remove:function(){return this.each(function(h,d){var b=a(d);a.each(n,function(a,c){var d=l(b,c);d>=0&&(c.waypoints.splice(d,1),c.waypoints.length||(c.element.unbind("scroll.waypoints resize.waypoints"),n.splice(a,
1)))})})},destroy:function(){return this.unbind("waypoint.reached")[e]("remove")}},j={refresh:function(){a.each(n,function(h,d){var b=a.isWindow(d.element[0]),i=b?0:d.element.offset().top,c=b?a[g]("viewportHeight"):d.element.height(),e=b?0:d.element.scrollTop();a.each(d.waypoints,function(b,a){if(a){var h=a.options.offset,g=a.offset;typeof a.options.offset==="function"?h=a.options.offset.apply(a.element):typeof a.options.offset==="string"&&(h=parseFloat(a.options.offset),h=a.options.offset.indexOf("%")?
Math.ceil(c*(h/100)):h);a.offset=a.element.offset().top-i+e-h;a.options.onlyOnScroll||(g!==null&&d.oldScroll>g&&d.oldScroll<=a.offset?q(a,["up"]):g!==null&&d.oldScroll<g&&d.oldScroll>=a.offset?q(a,["down"]):!g&&d.element.scrollTop()>a.offset&&q(a,["down"]))}});d.waypoints.sort(function(a,b){return a.offset-b.offset})})},viewportHeight:function(){return m.innerHeight?m.innerHeight:o.height()},aggregate:function(){var h=a();a.each(n,function(d,b){a.each(b.waypoints,function(a,b){h=h.add(b.element)})});
return h}};a.fn[e]=function(h){if(p[h])return p[h].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof h==="function"||!h)return p.init.apply(this,arguments);else if(typeof h==="object")return p.init.apply(this,[null,h]);else a.error("Method "+h+" does not exist on jQuery "+e)};a.fn[e].defaults={continuous:!0,offset:0,triggerOnce:!1,context:m};a[g]=function(a){return j[a]?j[a].apply(this):j.aggregate()};a[g].settings={resizeThrottle:200,scrollThrottle:100};o.load(function(){a[g]("refresh")})})(jQuery,
"waypoint","waypoints",window);(function(a,e){var g=function(a,g,e){var l;return function(){var n=this,k=arguments;l?clearTimeout(l):e&&a.apply(n,k);l=setTimeout(function(){e||a.apply(n,k);l=null},g||100)}};jQuery.fn[e]=function(a){return a?this.bind("resize",g(a)):this.trigger(e)}})(jQuery,"smartresize");
(function(a){function e(g){var e=g||window.event,l=[].slice.call(arguments,1),n=0,k=0,m=0;return g=a.event.fix(e),g.type="mousewheel",e.wheelDelta&&(n=e.wheelDelta/120),e.detail&&(n=-e.detail/3),m=n,e.axis!==void 0&&e.axis===e.HORIZONTAL_AXIS&&(m=0,k=-1*n),e.wheelDeltaY!==void 0&&(m=e.wheelDeltaY/120),e.wheelDeltaX!==void 0&&(k=-1*e.wheelDeltaX/120),l.unshift(g,n,k,m),(a.event.dispatch||a.event.handle).apply(this,l)}var g=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var m=g.length;m;)a.event.fixHooks[g[--m]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=g.length;a;)this.addEventListener(g[--a],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var a=g.length;a;)this.removeEventListener(g[--a],e,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
var $win=$(window),vpW=$win.width(),vpH=$win.height(),$scrollbody=$("html,body");$(window).smartresize(function(){resize()});$(window).on("orientationchange",function(){resize()});
function resize(){vpW=$win.width();vpH=$win.height();$("section.fullheight").css("min-height",vpH*0.8);$("#absolventen.open #gallery").height(vpH*0.8);vpW/vpH>1?$("#parallax").width(vpH*0.9).height(vpH*0.9):$("#parallax").width(vpW*0.9).height(vpW*0.9);$(".nobullet").removeClass("nobullet");var a=!1;$("#absolventen ul > li").each(function(){a&&a.offset().top!=$(this).offset().top&&a.addClass("nobullet");a=$(this)}).last().addClass("nobullet")}
$("nav").find("a[href^='#']").click(function(a){a.preventDefault();$(this);var b=this.hash,c=$(b);$scrollbody.stop().animate({scrollTop:c.offset().top-20},500,"swing",function(){window.location.hash=b;$activeElement=c})});var slideWidth=0;
$("#absolventen ul li a").click(function(a){a.preventDefault();$that=$(this);$("#absolventen").addClass("open");resize();$scrollbody.stop().animate({scrollTop:$g.offset().top-50},500,function(){$that.attr("href");log($that.attr("href"));var a=$g.find($that.attr("href")).offset().left-$("#slidewrapper").offset().left;$g.stop().animate({scrollLeft:a},500)})});$("#close").click(function(){$g.transition({height:0},500,function(){$g.removeClass("open")})});
var $g=$("#gallery"),$slides=$g.find(".slide"),slideIndex=0;$g.click(function(a){a=a.pageX-$g.offset().left;log(a);var b=0,b=a<$g.width()*0.5?$g.scrollLeft()-$g.width():$g.scrollLeft()+$g.width();$g.stop().animate({scrollLeft:b},500)});$("#gallery").mousemove(function(a){a.pageX>vpW*0.5?$(this).removeClass("leftcursor").addClass("rightcursor"):$(this).removeClass("rightcursor").addClass("leftcursor")});
$("#gallery").scroll(function(){$(this);$(this).find(".slide").each(function(){if($(this).offset().left-$g.offset().left>-50&&$(this).offset().left-$g.offset().left<50&&!$(this).hasClass("activeSlide")){log("slidechange!");var a=$(this).attr("id");log($(this).attr("id"));$(".activeSlide").removeClass("activeSlide");$(this).addClass("activeSlide");$('a[href="#'+a+'"]').addClass("active")}})});resize();$("#impressum").css({rotate:"180deg"});
$("#drehen").click(function(){$that=$(this);$("#impressum").transition({rotate:"+=180deg"},700,function(){$scrollbody.animate({scrollTop:$that.offset().top})})});
var animateTitle=!0,layer0={element:$("#layer0"),speed:0.04,startX:75,startY:55,x:0,y:0},layer1={element:$("#layer1"),speed:0.04,startX:76,startY:32,x:0,y:0},layer2={element:$("#layer2"),speed:0.05,startX:15,startY:32,x:0,y:0},layer3={element:$("#layer3"),speed:0.02,startX:38,startY:32,x:0,y:0},layer4={element:$("#layer4"),speed:0.06,startX:29,startY:60,x:0,y:0},layer5={element:$("#layer5"),speed:0.03,startX:7,startY:54,x:0,y:0},layer6={element:$("#layer6"),speed:0.09,startX:50,startY:66,x:0,y:0},
layer7={element:$("#layer7"),speed:0.06,startX:93,startY:46,x:0,y:0},layers=[layer0,layer1,layer2,layer3,layer4,layer5,layer6,layer7],ofY;initLayers();moveLayers();function initLayers(){for(var a=0,b=layers.length;a<b;a++)lay=layers[a],lay.x=lay.startX,lay.y=lay.startY}function moveLayers(){for(var a=0,b=layers.length;a<b;a++)lay=layers[a],lay.element.css({left:lay.x+"%",top:lay.y+"%"})}
$("#home").mouseenter(function(a){var b=a.pageY;relX=a.pageX-vpW/2;relY=b-vpH/2;a=0;for(b=layers.length;a<b;a++)lay=layers[a],lay.x=lay.startX+lay.speed*relX*0.1,lay.y=lay.startY+lay.speed*relY*0.1,lay.element.stop().animate({left:lay.x+"%",top:lay.y+"%"},200,"swing",function(){animate=!0})}).mouseleave(function(){animate=!1;for(var a=0,b=layers.length;a<b;a++)lay=layers[a],lay.x=lay.startX,lay.y=lay.startY,lay.element.stop().animate({left:lay.x+"%",top:lay.y+"%"},500,"swing")});var animate=!1;
$("#home").mousemove(function(a){var b=a.pageY;relX=a.pageX-vpW/2;relY=b-vpH/2;if(animate===!0){a=0;for(b=layers.length;a<b;a++)lay=layers[a],lay.x=lay.startX+lay.speed*relX*0.1,lay.y=lay.startY+lay.speed*relY*0.1;moveLayers()}});
